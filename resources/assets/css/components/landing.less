.app-landing {
  position: absolute;
  z-index: @zindex_landing;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  ~ .app-main {
    .canvas-background {
      &:after {
        .animation(in-fade @speed @speed_fast @bezier_fadein backwards);
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        .gradient(to bottom; lighten(@app_background, 0) 25%; darken(@app_background, 3) 75%);
      }
    }
    .app-canvas {
      .scale3d(.8);
      transition: @speed_slower @cascade @bezier_transform;
    }
    #svg-canvas {
      width: 125%;
      height: 125%;
      transition: @now;
    }
    #grid {
      path {
        stroke-width: 0;
        transition: @speed_fast @now @bezier_fadein;
      }
    }
    #small-grid {
      path {
        stroke: darken(@app_background, 5);
        stroke-width: 3;
        stroke-dasharray: 2 20;
        transition: @speed @speed_fast @bezier_fadein;
      }
    }
    .layer-outline {
      stroke: darken(@app_background, 5);
      transition-duration: @speed;
    }
    .text-layer {
      fill: darken(@app_background, 5);
      transition-duration: @speed;
    }
    .mouse-stats {
      opacity: 0;
      transition: @now;
    }
    .app-hud {
      opacity: 0;
      transition: @now;
    }
  }
  ~ .main-menu-button {
    .icon-menu {
      opacity: 0;
      transition: @now;
    }
  }
  nav {
    .flexy();
    height: @tile;
    .content {
      .flex(1 1 100%);
      .flexy(center);
    }
    .nav-item {
      &:not(:hover) {
        color: @gray;
      }
      &:first-of-type {
        margin-right: auto;
      }
      &:not(:first-of-type) {
        margin-left: @tile / 2;
      }
    }
  }
  .jumbotron {
    color: @white;
  }
}
.home-nav {
  .animation(in-fade-top @speed @speed_slower @bezier_transform backwards);
  position: absolute;
  z-index: @zindex_landing;
  top: 0;
  left: 0;
  width: 100%;
  border-bottom: 1px solid fade(@black, 21);
  box-shadow: 0 1px fade(@white, 05);
}
.home-foot {
  background-color: fade(@app_background, 97);
  border-top: 1px solid fade(@black, 21);
  box-shadow: 0 1px fade(@white, 05) inset;
}
.google-login {
  @color: #3A7AF3;
  @shadow: darken(desaturate(@color, 34), 13);
  .flexy(center);
  .user-select(none);
  background-color: @color;
  border-bottom: 1px solid @shadow;
  border-radius: 3px;
  span {
    .icon_fill(@white);
    color: @white;
    line-height: 1em;
    padding: .5em;
    &:first-child {
      border-right: 1px solid @shadow;
    }
  }
  &:hover {
    margin-bottom: 1px;
    border-bottom-width: 2px;
    span {
      .icon_fill(@white);
      color: @white;
    }
  }
  &:active {
    background-color: darken(desaturate(@color, 13), 5);
    margin-bottom: 0;
    border-bottom-width: 0;
    box-shadow: 0 2px @shadow inset;
  }
}
.jumbotron-buttons {
  .flexy(center);
  margin: 2em 0 1em;
  a {
    &:not(:first-of-type) {
      margin-left: 1em;
    }
  }
  .google-login {
    height: @tile;
    span {
      padding: 1.5em;
    }
  }
}
.home-nav-items {
  max-width: @tile_content;
  height: @tile;
  margin: 0 auto;
  background: blue;
}
.jumbotron {
  .flexy(center);
  position: relative;
  min-height: 100%;
  &:first-of-type {
    padding-top: @tile;
    padding: @tile 0 (@tile * 2);
  }
  &:last-of-type {
    min-height: 100vh;
  }
  .content {
    .animation(jumbotron-content @speed @speed @bezier_transform backwards);
    .transform-origin(0 0);
  }
  h1 {
    margin-left: -0.0625em; // better aligns h1 (big font size wastes space)
  }
  button {
    .flexy(center, center);
    height: @tile;
    padding: 0 (@tile / 2);
    margin-top: 2em;
    transition: @speed @bezier_fadein;
    border: 2px solid @gray_lighter;
    &:hover,
    &:focus,
    &:active {
      color: @black;
      background: @white;
      border-color: @white;
      transition-duration: @now;
    }
  }
}
.content {
  .box-sizing(content-box);
  max-width: @tile_content;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
}
.trusted-by {
  .animation(in-fade-bottom @speed @speed_fast @bezier_transform backwards);
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: @tile * 2;
  background: @overlay_background;
  box-shadow: 0 -8px 13px fade(@black,21);
}
.home-body {
  background: @overlay_background;
}
.featurette {
  .box-sizing(content-box);
  .flexy();
  max-width: @tile_content;
  margin: @margin_featurette auto;
  .mq_640({
    .flex-direction(column);
  });
  &:first-of-type {
    margin-top: 0;
    padding-top: @margin_featurette;
  }
  &:last-of-type {
    margin-bottom: 0;
    padding-bottom: @margin_featurette;
  }
  &:nth-of-type(even) {
    .featurette-media {
      .order(1);
      .mq_640({
        .order(3);
      });
    }
  }
}
.featurette-how {
  .featurette-story {
    .flex(2);
  }
}
.featurette-story,
.featurette-media {
  .flex(1);
  margin: auto 0;
  padding: 1rem;
}
.featurette-story {
  .order(2);
  p {
    margin: 0;
  }
}
.featurette-media {
  .order(3);
}

//
// TODO all below for dev only!
//
.featurette {
  svg {
    max-width: 100%;
    overflow: visible;
  }
  .actions {
    fill: #fff;
  }
  .menu {
    stroke-width: 4;
    stroke: #ccc;
    fill: #ccc;
  }
  .in-progress {
    line,
    circle {
      fill: none;
      stroke-width: 4;
      stroke: #bf5bff;
    }
  }
  .cursor {
    stroke: #bf5bff;
    fill: none;
    stroke-width: 4;
  }
  .border,
  .chat,
  .shape-layers {
    fill: none;
    stroke-width: 4;
  }
  .border,
  .chat {
    stroke: #ccc;
  }
  .shape-layers {
    // stroke: #888;
    stroke: #ccc;
  }
}